{"version":3,"file":"static/js/815.06cf4f0d.chunk.js","mappings":"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","sources":["webpack://project1/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://project1/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://project1/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profileInfo\":\"ProfileInfo_profileInfo__ESX5R\",\"banner\":\"ProfileInfo_banner__kzAUt\",\"banner__image\":\"ProfileInfo_banner__image__tU0+2\",\"user\":\"ProfileInfo_user__VaV6B\",\"user__avatar\":\"ProfileInfo_user__avatar__qUljp\"};","import React, { useState, useEffect } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => { \r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(()=> {\r\n    setStatus(props.status);\r\n  }, [props.status])\r\n\r\n  const activatedEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivatedEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          {!editMode \r\n            ? <span onDoubleClick={activatedEditMode}>{props.status || '----'}</span>\r\n            : <input autoFocus={true} onChange={onStatusChange} onBlur={deactivatedEditMode} value={status}></input>\r\n          }\r\n        </div>\r\n      </>\r\n    );\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import style from './ProfileInfo.module.css'\r\nimport Preloader from './../../Common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = (props) => {\r\n  if(!props.profile) {\r\n    return <Preloader/>\r\n  }\r\n  return (\r\n    <div className={style.profileInfo}>\r\n      <div className={style.banner}>\r\n        <img className={style.banner__image}src=\"https://vjoy.cc/wp-content/uploads/2019/09/1-6.jpg\" alt=\"banner\" />\r\n      </div>\r\n      <div className={style.user}>\r\n        <div className={style.user__avatar}>\r\n          {\r\n            props.profile.photos.large != null\r\n              ? <img src={props.profile.photos.large} alt={props.profile.fullName}></img>\r\n              : <img src='https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg' alt={props.profile.fullName}></img>\r\n            }\r\n          {/* <img src={props.profile.photos.large} alt=''/> */}\r\n          {/* <img src=\"https://oir.mobi/uploads/posts/2021-04/1619640716_44-oir_mobi-p-krasivaya-lisa-zhivotnie-krasivo-foto-47.jpg\" alt=\"avatar\" /> */}\r\n        </div>\r\n        <div className={style.user__description}>\r\n          <div>\r\n            {props.profile.fullName}\r\n          </div>\r\n          <div>\r\n            {props.profile.aboutMe}\r\n          </div>\r\n          <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n        \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"posts__content\":\"MyPosts_posts__content__rOfcX\",\"posts__title\":\"MyPosts_posts__title__-jXQk\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__xreP2\",\"item__body\":\"Post_item__body__imKr5\",\"item__content\":\"Post_item__content__K27Hl\",\"item__footer\":\"Post_item__footer__fx6VV\",\"avatar\":\"Post_avatar__AtJB+\"};","import style from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n        <div className={style.item}>\r\n          <div className={style.item__body}>\r\n            <img src=\"http://pm1.narvii.com/6889/74979d4d2744ec6e27995b6e866f091d04c0b40cr1-515-414v2_uhq.jpg\" alt=\"Avatar1\" className={style.avatar} />\r\n            <div className={style.item__content}>\r\n              {props.message}\r\n            </div>\r\n          </div>\r\n          <div className={style.item__footer}>\r\n            <button className={style.item__like}>Like</button>\r\n          </div>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\n\r\nconst MyPosts = (props) => {\r\n  let postsData = props.postsData;\r\n  let postsElements = postsData.map( post => <Post message={post.message} key={post.id}/>)\r\n\r\n  // let onAddPost = () => {\r\n  //   props.addPost();\r\n  // }\r\n\r\n  // let onPostChange = (event) => {\r\n  //   let text = event.target.value;\r\n  //   props.onPostChange(text);\r\n  // };\r\n\r\n  let addNewPost = (values) => {\r\n    // alert(values.add_message);\r\n    props.addPost(values.add_post);\r\n  }\r\n\r\n  return (\r\n    <div className={style.posts}>\r\n      <h2 className={style.posts__title}>My posts</h2>\r\n      <AddPostForm onSubmit={addNewPost} />\r\n      <div className={style.posts__content}>\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst AddPostForm = (props) => {\r\n  return (\r\n    <Formik\r\n      initialValues={{ add_post: ''}}\r\n      validate={values => {\r\n        const errors = {};\r\n        if (values.add_post === '') {\r\n          errors.add_post = 'Your post dont be empty';\r\n        } \r\n        return errors;\r\n      }}\r\n      onSubmit={(values, { setSubmitting }) => {\r\n        // setTimeout(() => {\r\n          props.onSubmit(values);\r\n          // console.log(values);\r\n          // setSubmitting(false);\r\n        // }, 400);\r\n      }}\r\n    >\r\n      <Form >\r\n        <div className={style.posts__add}>\r\n          <Field \r\n            name=\"add_post\" \r\n            id=\"add_post\" \r\n            cols=\"60\" \r\n            rows=\"3\" \r\n            component=\"textarea\" \r\n            placeholder={\"Send post\"}\r\n            // onChange={onPostChange} \r\n            // value={props.newPostText}\r\n          >\r\n          </Field></div>\r\n          <ErrorMessage name=\"add_post\" component=\"div\" />\r\n        <div className={style.posts__add}>\r\n          <button \r\n            // onClick={onAddPost}\r\n            type=\"submit\"\r\n          >Add post</button>\r\n        </div>\r\n      </Form>\r\n    </Formik>\r\n  )\r\n}\r\n\r\nexport default MyPosts;","// import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\n\r\n// const MyPostsContainer = (props) => {\r\n//   let state = props.store.getState();\r\n\r\n//   let addPost = () => {\r\n//     props.store.dispatch(addPostActionCreator());\r\n//   }\r\n\r\n//   let onPostChange = (text) => {\r\n//     props.store.dispatch(updateNewPostTextActionCreator(text));\r\n//   };\r\n\r\n//   return (\r\n//     <MyPosts \r\n//       addPost={addPost} \r\n//       onPostChange={onPostChange} \r\n//       postsData={state.profilePage.postsData}\r\n//       newPostText={state.profilePage.newPostText}\r\n//     />\r\n//   );\r\n// }\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (add_post) => {\r\n      dispatch(addPostActionCreator(add_post));\r\n    },\r\n\r\n    onPostChange: (text) => {\r\n      dispatch(updateNewPostTextActionCreator(text));\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\nexport default MyPostsContainer;","import ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) => {\r\n  \r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n      <MyPostsContainer \r\n        store={props.store}\r\n        />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {getUserProfile, getStatus, updateStatus} from '../../redux/profile-reducer'\r\nimport {useLocation,useNavigate,useParams} from \"react-router-dom\";\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component { \r\n  componentDidMount() {\r\n    let userId = this.props.router.params.userId;\r\n    if(!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n\r\n    \r\n    return (\r\n      <div>\r\n        <Profile \r\n          {...this.props} \r\n          profile={this.props.profile} \r\n          status={this.props.status} \r\n          updateStatus={this.props.updateStatus}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\n\r\nfunction withRouter(Component) {\r\n  function ComponentWithRouterProp(props) {\r\n      let location = useLocation();\r\n      let navigate = useNavigate();\r\n      let params = useParams();\r\n      return (\r\n          <Component\r\n              {...props}\r\n              router={{ location, navigate, params }}\r\n          />\r\n      );\r\n  }\r\n  return ComponentWithRouterProp;\r\n}\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n\r\n// let ProfileContainerWithRouter = withRouter(AuthRedirectComponent);\r\n\r\n// export default connect(mapStateToProps, \r\n//   {\r\n//     getUserProfile, \r\n//   }\r\n//   )(ProfileContainerWithRouter);\r\n\r\n  export default  compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n  )(ProfileContainer);\r\n","import React from \"react\";\r\nimport {Navigate } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n    render () {\r\n      if(!this.props.isAuth) return <Navigate to='/login'></Navigate>\r\n\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onChange","e","currentTarget","value","onBlur","updateStatus","onDoubleClick","profile","className","style","src","alt","photos","large","fullName","aboutMe","Preloader","message","AddPostForm","initialValues","add_post","validate","values","errors","onSubmit","setSubmitting","name","id","cols","rows","component","placeholder","type","postsElements","postsData","map","post","addPost","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","onPostChange","text","updateNewPostTextActionCreator","MyPosts","store","ProfileContainer","userId","this","router","params","authorizedUserId","history","push","getUserProfile","getStatus","React","compose","auth","isAuth","Component","location","useLocation","navigate","useNavigate","useParams","withAuthRedirect","mapStateToPropsForRedirect","RedirectComponent","to"],"sourceRoot":""}